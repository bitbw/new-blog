---
title: JavaScript位运算符
date: 2020-08-18 16:26:11
tags: 
 - js
categories: js
cnblogs:
  postid: "15392430"
hash: e30c8144124a75c39efc5625e3edd07fe165ed2057f3f1ad7192200795f772f0
---

## w3school

https://www.w3school.com.cn/js/js_bitwise.asp

## JavaScript 位运算符

| 运算符 | 名称         | 描述                                                     |
| :----- | :----------- | :------------------------------------------------------- |
| &      | AND          | 如果两位都是 1 则设置每位为 1                            |
| \|     | OR           | 如果两位之一为 1 则设置每位为 1                          |
| ^      | XOR          | 如果两位只有一位为 1 则设置每位为 1                      |
| ~      | NOT          | 反转所有位                                               |
| <<     | 零填充左位移 | 通过从右推入零向左位移，并使最左边的位脱落。             |
| >>     | 有符号右位移 | 通过从左推入最左位的拷贝来向右位移，并使最右边的位脱落。 |
| >>>    | 零填充右位移 | 通过从左推入零来向右位移，并使最右边的位脱落。           |

### 实例

| 操作    | 结果 | 等同于       | 结果 |
| :------ | :--- | :----------- | :--- |
| 5 & 1   | 1    | 0101 & 0001  | 0001 |
| 5 \| 1  | 5    | 0101 \| 0001 | 0101 |
| 5 ^ 1   | 4    | 0101 ^ 0001  | 0100 |
| ~ 5     | 10   | ~0101        | 1010 |
| 5 << 1  | 10   | 0101 << 1    | 1010 |
| 5 >> 1  | 2    | 0101 >> 1    | 0010 |
| 5 >>> 1 | 2    | 0101 >>> 1   | 0010 |

## JavaScript 使用 32 位按位运算数

JavaScript 将数字存储为 64 位浮点数，但所有按位运算都以 32 位二进制数执行。

在执行位运算之前，JavaScript 将数字转换为 32 位有符号整数。

执行按位操作后，结果将转换回 64 位 JavaScript 数。

上面的例子使用 4 位无符号二进制数。所以 ~ 5 返回 10。

由于 JavaScript 使用 32 位有符号整数，JavaScript 将返回 -6。

00000000000000000000000000000101 (5)

11111111111111111111111111111010 (~5 = -6)

有符号整数使用最左边的位作为减号。

## 位运算 AND

当对一对数位执行位运算 AND 时，如果数位均为 1 则返回 1。

### 单位示例：

| 运算  | 结果 |
| :---- | :--- |
| 0 & 0 | 0    |
| 0 & 1 | 0    |
| 1 & 0 | 0    |
| 1 & 1 | 1    |

### 四位示例：

| 运算        | 结果 |
| :---------- | :--- |
| 1111 & 0000 | 0000 |
| 1111 & 0001 | 0001 |
| 1111 & 0010 | 0010 |
| 1111 & 0100 | 0100 |

## 位运算 OR

当对一对数位执行位运算 OR 时，如果其中一位是 1 则返回 1：

### 单位示例

| 运算   | 结果 |
| :----- | :--- |
| 0 \| 0 | 0    |
| 0 \| 1 | 1    |
| 1 \| 0 | 1    |
| 1 \| 1 | 1    |

### 四位运算：

| 操作         | 结果 |
| :----------- | :--- |
| 1111 \| 0000 | 1111 |
| 1111 \| 0001 | 1111 |
| 1111 \| 0010 | 1111 |
| 1111 \| 0100 | 1111 |

## 位运算 XOR

当对一对数位进行位运算 XOR 时，如果数位是不同的则返回 1：

### 单位示例：

| 运算  | 结果 |
| :---- | :--- |
| 0 ^ 0 | 0    |
| 0 ^ 1 | 1    |
| 1 ^ 0 | 1    |
| 1 ^ 1 | 0    |

### 四位示例：

| 运算        | 结果 |
| :---------- | :--- |
| 1111 ^ 0000 | 1111 |
| 1111 ^ 0001 | 1110 |
| 1111 ^ 0010 | 1101 |
| 1111 ^ 0100 | 1011 |

## JavaScript 位运算 AND (&)

如果位数都是 1，则位运算 AND 返回 1：

| 十进制 | 二进制                               |
| :----- | :----------------------------------- |
| 5      | 00000000000000000000000000000101     |
| 1      | 00000000000000000000000000000001     |
| 5 & 1  | 00000000000000000000000000000001 (1) |

### 实例

```
var x = 5 & 1;
```

## JavaScript 位运算 OR (|)

如果数位之一是 1，则位运算 OR 返回 1：

| 十进制 | 二进制                               |
| :----- | :----------------------------------- |
| 5      | 00000000000000000000000000000101     |
| 1      | 00000000000000000000000000000001     |
| 5 \| 1 | 00000000000000000000000000000101 (5) |

### 实例

```
var x = 5 | 1;
```

## JavaScript 位运算 XOR (^)

如果数位是不同的，则 XOR 返回 1：

| 十进制 | 二进制                               |
| :----- | :----------------------------------- |
| 5      | 00000000000000000000000000000101     |
| 1      | 00000000000000000000000000000001     |
| 5 ^ 1  | 00000000000000000000000000000100 (4) |

### 实例

```
var x = 5 ^ 1;
```

## JavaScript 位运算 NOT (~)

| 十进制 | 二进制                                |
| :----- | :------------------------------------ |
| 5      | 00000000000000000000000000000101      |
| ~5     | 11111111111111111111111111111010 (-6) |

### 实例

```
var x = ~5;
```

## JavaScript（零填充）位运算左移（<<）

这是零填充的左移。一个或多个零数位从右被推入，最左侧的数位被移除：

| 十进制 | 二进制                                |
| :----- | :------------------------------------ |
| 5      | 00000000000000000000000000000101      |
| 5 << 1 | 00000000000000000000000000001010 (10) |

### 实例

```
var x = 5 << 1;
```

## JavaScript（有符号）位运算右移（>>）

这是保留符号的右移。最左侧的数位被从左侧推入，最右侧的数位被移出：

| 十进制  | 二进制                                |
| :------ | :------------------------------------ |
| -5      | 11111111111111111111111111111011      |
| -5 >> 1 | 11111111111111111111111111111101 (-3) |

### 实例

```
var x = -5 >> 1;
```

## JavaScript（零填充）右移（>>>）

这是零填充的右移。一个或多个零数位从左侧被推入，最右侧的数位被移出：

| 十进制  | 二进制                               |
| :------ | :----------------------------------- |
| 5       | 00000000000000000000000000000101     |
| 5 >>> 1 | 00000000000000000000000000000010 (2) |

### 实例

```
var x = 5 >>> 1;
```

## 32-bit 有符号整数（二进制数）

仅设置一位的 32 位整数很好理解：

| 二进制表示                       | 十进制值 |
| :------------------------------- | :------- |
| 00000000000000000000000000000001 | 1        |
| 00000000000000000000000000000010 | 2        |
| 00000000000000000000000000000100 | 4        |
| 00000000000000000000000000001000 | 8        |
| 00000000000000000000000000010000 | 16       |
| 00000000000000000000000000100000 | 32       |
| 00000000000000000000000001000000 | 64       |

多设置一些数位揭示了二进制的模式：

| 二进制表示                       | 十进制值            |
| :------------------------------- | :------------------ |
| 00000000000000000000000000000101 | 5 (4 + 1)           |
| 00000000000000000000000000101000 | 40 (32 + 8)         |
| 00000000000000000000000000101101 | 45 (32 + 8 + 4 + 1) |

负数是正数的二进制补码加 1：

| 二进制表示                       | 十进制值 |
| :------------------------------- | :------- |
| 00000000000000000000000000000101 | 5        |
| 11111111111111111111111111111011 | -5       |
| 00000000000000000000000000101000 | 40       |
| 11111111111111111111111111011000 | -40      |
| 11111111111111111111111111011001 | -41      |

## 把十进制转换为二进制

### 实例

```
function dec2bin(dec){
	// 字符串数字转化为数字
    return (dec >>> 0).toString(2);
}
```

## 把二进制转换为十进制

### 实例

```
function bin2dec(bin){
    return parseInt(bin, 2).toString(10);
}
```

## parseInt+toString 实现各个进制的转换

- parseInt:将任意进制的数字转化为十进制

- toString:将十进制的数字转化为任意进制

```js
parseInt(num, 8); //八进制转十进制
parseInt(num, 16); //十六进制转十进制
parseInt(num).toString(8); //十进制转八进制
parseInt(num).toString(16); //十进制转十六进制
parseInt(num, 2).toString(8); //二进制转八进制
parseInt(num, 2).toString(16); //二进制转十六进制
parseInt(num, 8).toString(2); //八进制转二进制
parseInt(num, 8).toString(16); //八进制转十六进制
parseInt(num, 16).toString(2); //十六进制转二进制
parseInt(num, 16).toString(8); //十六进制转八进制
```

> - 以 0X、0x 开头的表示为十六进制。 0xf //15
> - 以 0、0O、0o 开头的表示为八进制。0o12 //10
> - 以 0B、0b 开头的表示为二进制格式。 0b11//3

以上在 js 中可直接使用，可自动转化为对应的 10 进制
